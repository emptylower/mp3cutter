<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <title>Èü≥È¢ëË£ÅÂâ™Â∑•ÂÖ∑ - Audio Trimmer (Â§á‰ªΩÁâàÊú¨)</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://unpkg.com/wavesurfer.js@6.6.4/dist/wavesurfer.min.js"></script>
    <script src="https://unpkg.com/wavesurfer.js@6.6.4/dist/plugin/wavesurfer.regions.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lamejs@1.2.1/lame.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéµ Èü≥È¢ëË£ÅÂâ™Â∑•ÂÖ∑</h1>
            <p class="subtitle">ËΩªÊùæË£ÅÂâ™Èü≥È¢ëÔºåÊîØÊåÅÂ§öÁßçÊ†ºÂºè</p>
        </header>

        <main>
            <!-- Êñá‰ª∂‰∏ä‰º†Âå∫Âüü -->
            <div class="upload-section" id="uploadSection">
                <div class="upload-area" id="uploadArea">
                    <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                    </svg>
                    <p class="upload-text">ÊãñÊãΩÈü≥È¢ëÊñá‰ª∂Âà∞Ê≠§Â§Ñ</p>
                    <p class="upload-subtext">Êàñ</p>
                    <button class="btn btn-primary" id="selectFileBtn">ÈÄâÊã©Êñá‰ª∂</button>
                    <input type="file" id="fileInput" accept="audio/*" hidden>
                    <p class="format-hint">ÊîØÊåÅÊ†ºÂºèÔºöMP3, WAV, M4A, OGG, FLAC</p>
                </div>
            </div>

            <!-- Èü≥È¢ëÁºñËæëÂå∫Âüü -->
            <div class="editor-section" id="editorSection" style="display: none;">
                <!-- Èü≥È¢ë‰ø°ÊÅØ -->
                <div class="audio-info">
                    <div class="info-item">
                        <span class="info-label">Êñá‰ª∂Âêç:</span>
                        <span id="fileName">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Êó∂Èïø:</span>
                        <span id="duration">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Ê†ºÂºè:</span>
                        <span id="format">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Â§ßÂ∞è:</span>
                        <span id="fileSize">-</span>
                    </div>
                </div>

                <!-- Ê≥¢ÂΩ¢ÊòæÁ§∫Âå∫Âüü -->
                <div class="waveform-container">
                    <div id="waveform"></div>
                    <div id="wave-timeline"></div>
                </div>

                <!-- Êí≠ÊîæÊéßÂà∂ -->
                <div class="controls">
                    <div class="playback-controls">
                        <button class="btn btn-icon" id="playBtn" title="Êí≠Êîæ/ÊöÇÂÅú">
                            <svg class="play-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <svg class="pause-icon" style="display: none;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </button>
                        <button class="btn btn-icon" id="stopBtn" title="ÂÅúÊ≠¢">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z" />
                            </svg>
                        </button>
                        <button class="btn btn-icon" id="playRegionBtn" title="Êí≠ÊîæÈÄâ‰∏≠Âå∫Âüü">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5" />
                            </svg>
                        </button>
                    </div>

                    <div class="zoom-controls">
                        <button class="btn btn-icon" id="zoomInBtn" title="ÊîæÂ§ß">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7" />
                            </svg>
                        </button>
                        <button class="btn btn-icon" id="zoomOutBtn" title="Áº©Â∞è">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Ë£ÅÂâ™Âå∫ÂüüËÆæÁΩÆ -->
                <div class="trim-settings">
                    <h3>Ë£ÅÂâ™ËÆæÁΩÆ</h3>
                    <div class="time-inputs">
                        <div class="time-input-group">
                            <label for="startTime">ÂºÄÂßãÊó∂Èó¥</label>
                            <input type="text" id="startTime" placeholder="00:00.000" pattern="[0-9]{2}:[0-9]{2}\.[0-9]{3}">
                        </div>
                        <div class="time-input-group">
                            <label for="endTime">ÁªìÊùüÊó∂Èó¥</label>
                            <input type="text" id="endTime" placeholder="00:00.000" pattern="[0-9]{2}:[0-9]{2}\.[0-9]{3}">
                        </div>
                        <div class="time-input-group">
                            <label>ÈÄâ‰∏≠Êó∂Èïø</label>
                            <input type="text" id="selectedDuration" readonly placeholder="00:00.000">
                        </div>
                    </div>
                </div>

                <!-- ÂØºÂá∫ËÆæÁΩÆ -->
                <div class="export-settings">
                    <h3>ÂØºÂá∫ËÆæÁΩÆ</h3>
                    <div class="export-options">
                        <div class="option-group">
                            <label for="outputFormat">ËæìÂá∫Ê†ºÂºè</label>
                            <select id="outputFormat">
                                <option value="mp3">MP3</option>
                                <option value="wav">WAV</option>
                                <option value="webm">WebM</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label for="outputQuality">Èü≥È¢ëË¥®Èáè</label>
                            <select id="outputQuality">
                                <option value="high">È´òË¥®Èáè (320kbps)</option>
                                <option value="medium" selected>Ê†áÂáÜË¥®Èáè (192kbps)</option>
                                <option value="low">‰ΩéË¥®Èáè (128kbps)</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label for="outputName">Êñá‰ª∂Âêç</label>
                            <input type="text" id="outputName" placeholder="trimmed_audio">
                        </div>
                    </div>
                    <div class="export-actions">
                        <button class="btn btn-primary btn-large" id="exportBtn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                            </svg>
                            ÂØºÂá∫Âπ∂‰∏ãËΩΩ
                        </button>
                        <button class="btn btn-secondary" id="resetBtn">ÈáçÊñ∞ÈÄâÊã©Êñá‰ª∂</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Âä†ËΩΩÊèêÁ§∫ -->
        <div class="loading-overlay" id="loadingOverlay" style="display: none;">
            <div class="loading-content">
                <div class="spinner"></div>
                <p id="loadingMessage">Â§ÑÁêÜ‰∏≠...</p>
            </div>
        </div>

        <!-- ÊèêÁ§∫Ê∂àÊÅØ -->
        <div class="toast" id="toast"></div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/audio-processor.js"></script>
    <script src="js/ui-controller.js"></script>
</body>
</html>